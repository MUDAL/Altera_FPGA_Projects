# Interfacing an FPGA with a VGA monitor 

## Description    
- Displaying a 398 x 438 binary (bitmap) image on a VGA monitor using an FPGA.  
- The design and development processes involve VHDL and MATLAB.  
- MATLAB is used for the following:   
		1. Converting a grayscale image to a binary image using the thresholding algorithm  
		2. Writing the binary image or bitmap into a file (Memory Initialization File)  
- The Memory Initialization File (.mif) is required to load the bitmap into a frame buffer  
or bitmap memory in the VHDL design at compilation time.
- The 398 x 438 binary image is displayed on a 640 x 480 VGA monitor such that the spaces that are not
covered by the image are displayed in blue.

## Tools  
- EP4CE6E22C8N Cyclone IV FPGA development board
- VGA monitor (640 x 480)  
- VGA cable  
- Intel Quartus Prime 20.1  

## How to use  
- Clone the ``Altera_FPGA_Projects`` repository  
- Open the ``EP4CE6_Projects/P06_VGA_1/VHDL/`` directory  
- Open the ``vga_main.qpf`` project file  
- Intel Quartus Prime should open after the previous step  
- After Quartus opens, click on the ``Processing`` tab  
- Click on ``Start Compilation``  
- After compilation, click on ``Program Device(Open Programmer)``  
- When the Programmer window opens, load the demo project into the FPGA by clicking ``Start`` 

## Project file structure  
- The **VHDL** design files are located in the **src** and **lib** directories  
- The top-level design is the **vga_main.vhd**  
- The other modules or design files are located in the **lib** directory  
- The **mif** directory contains the ``Memory Initialization File (.mif)`` generated by MATLAB  

## Pinouts  
- Check the **Location** column in the image below for the pin mappings used in this project.    
![PP_6](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/3b361a53-b01c-4ff2-b69f-af6d5dd7ba1a)

## Dual-purpose pins  
Some pins on the Altera EP4CE6 FPGA are dual-purpose i.e. they can be used as regular I/O pins or as programming pins.  
By default, pin 101 (also known as ``nCEO``) is a programming pin. It is routed to the digital-to-analog converter whose  
output feeds the ``Hysnc`` line of the VGA port. This means that we can't use pin 101 unless we set it as a normal I/O pin.  
The images below illustrate how to achieve this.  
### 1. Click on the ``Assignments`` then ``Device``    
![Screenshot (541)](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/504f5fbe-3d29-4ada-ae67-1d55cd0d6a2b)  
### 2. Click on ``Device and Pin Options``  
![Screenshot (542)](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/e4060aed-3db8-4fc5-b612-175f24c22a6e)  
### 3. Click on ``Dual-Purpose Pins`` and set ``nCEO`` as ``Use as regular I/O``  
![Screenshot (543)](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/b380e5d8-d0e3-4c92-b07d-7dc2087eb06e)  

## Video Demo  
[FPGA and VGA](https://drive.google.com/file/d/1PZm1XRNfcaJq4v5hTRurt_n4ybjiqp33/view?usp=sharing)   
## Images    
### 1. Grayscale Image (Original Image)    
![test_image](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/7e216ce8-6392-4b67-b181-08206701c3ad)   
### 2. Binary Image (MATLAB Generated)    
![Olaoluwa_binary](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/843557bc-f56a-4f7f-a93c-e9a7831f2f5a)  
### 3. Final Output (Binary Image) on VGA monitor  
 ![20240303_094503](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/64d47288-3d06-4d2e-a575-811cfb104fb1)  
### 4. RTL Viewer  
![RTL_viewer](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/41637fb9-0419-4f69-be40-ffce65dceed5)  
### 5. Compilation Report (Resource Utilization)  
![Resource_Utilization](https://github.com/MUDAL/Altera_FPGA_Projects/assets/46250887/7e78bd0f-432f-4165-bf0a-5f40c52c67e2)  

## Helpful resource(s)  
- FPGA Prototyping By VHDL Examples (Xilinx Spartan-3 Version) - Pong P. Chu  
- [tinyvga.com](http://tinyvga.com/)    
